name: "clientdeploy"

on:
  workflow_dispatch:
  push:
    branches:
      - "master"
  

jobs:
  zip:
    name: "deploy client"
    runs-on: "ubuntu-latest"
    steps:
      - uses: actions/checkout@master
      - name: Archive Release
        uses: thedoctor0/zip-release@master
        with:
          type: 'zip'
          directory: 'modpack'
          filename: 'modpack.zip'
          exclusions: '*.git* /*node_modules/* .editorconfig'
  report:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Create report file
        run: date +%s > report.txt
      - name: Commit report
        run: |
          git config --global user.name 'Your Name'
          git config --global user.email 'your-username@users.noreply.github.com'
          git commit -am "Automated report"
          git switch "dist"
          git push

